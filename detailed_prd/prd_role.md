# ClockBox - PRD 세부 문서 : 직무

## 1. 개요 (Overview)
ClockBox 내 직무(Job) 관리 기능을 정의한다.  
직무별로 근무 규칙, 권한, 역할을 구분하여 관리한다.

### 목적
- 직무 단위로 근로 규칙 정의
- 부서/지점과 연계한 직무 관리
- 리포트/정산과 연결된 직무별 통계

---

## 2. 사용자 시나리오 (User Flow)
### 시나리오 A: 계층적 직무 체계 구축
1. **직무 카테고리 설정**: 관리직, 기술직, 영업직, 사무직 등 대분류 생성
2. **세부 직무 생성**: 카테고리 내 구체적 직무 (부장, 과장, 대리, 사원)
3. **직무 계층 관계 설정**: 상하위 직무 간 보고 관계 및 권한 승계 구조
4. **조직별 직무 매핑**: 본사/지점별 동일 직무의 다른 권한 레벨 설정
5. **직무 템플릿 활용**: 업계 표준 직무 템플릿 기반 빠른 설정

### 시나리오 B: 역할 기반 접근 제어 (RBAC) 설정
1. **권한 그룹 정의**: 읽기, 쓰기, 승인, 관리 등 세분화된 권한 설정
2. **직무별 권한 매트릭스**: 직무와 기능별 권한 조합 테이블 구성
3. **임시 권한 부여**: 특정 프로젝트나 기간 한정 추가 권한 설정
4. **권한 위임 체계**: 상급자 부재 시 권한 자동 위임 규칙
5. **권한 감사**: 정기적 권한 검토 및 불필요한 권한 회수

### 시나리오 C: 동적 직무 관리 및 이력 추적
1. **직무 변경 워크플로우**: 승진, 전보, 겸직 등 변경 승인 프로세스
2. **이력 관리**: 직원별 직무 변경 타임라인 및 성과 연계
3. **일시적 역할**: 프로젝트 매니저, 임시 팀장 등 기간 한정 역할
4. **역할 시뮬레이션**: 조직 개편 전 새로운 직무 구조 시뮬레이션
5. **자동화 규칙**: 특정 조건 충족 시 직무 자동 변경 (승진, 평가 결과 등)

### 시나리오 D: 직무 기반 개인화 및 최적화
1. **개인화된 대시보드**: 직무별 맞춤형 정보 표시
2. **역할별 알림 설정**: 직무 책임에 따른 차별화된 알림
3. **스킬 기반 매칭**: 직무 요구사항과 직원 역량 자동 매칭
4. **성과 지표 연동**: 직무별 KPI 및 평가 기준 자동 적용
5. **경력 개발 경로**: 직무 기반 승진 및 경력 발전 로드맵 제시

---

## 3. 기능 정의 (Feature Definition)
### 핵심 직무 관리
- **[FR-ROLE-001] 계층적 직무 구조 관리**
  - 직무 카테고리 및 하위 직무 무제한 계층 지원
  - 직무 간 상하위 관계 및 보고 체계 설정
  - 조직별 동일 직무의 차별화된 권한 레벨 관리
  - 업계별 직무 템플릿 라이브러리 제공
- **[FR-ROLE-002] 고급 역할 기반 접근 제어 (RBAC)**
  - 세분화된 권한 그룹 및 매트릭스 관리
  - 기능별/데이터별 세부 권한 설정
  - 조건부 권한 (시간, 위치, 상황 기반)
  - 권한 상속 및 위임 체계
- **[FR-ROLE-003] 동적 직무 생명주기 관리**
  - 직무 생성, 수정, 통합, 분할, 비활성화
  - 직무 변경 승인 워크플로우
  - 임시/프로젝트 기반 역할 관리
  - 직무 변경 시뮬레이션 및 영향도 분석

### 스마트 직무 운영
- **[FR-ROLE-004] 직무별 근무 규칙 엔진**
  - 복합 근무 규칙 설정 (표준, 유연, 교대, 재택)
  - 직무별 자동 스케줄링 규칙
  - 근무 시간, 휴게, 초과 근무 정책 차별화
  - 계절별/프로젝트별 특별 규칙 적용
- **[FR-ROLE-005] 지능형 직무 매칭**
  - 스킬 기반 자동 직무 추천
  - 직무 요구사항과 직원 역량 갭 분석
  - AI 기반 적합도 점수 산출
  - 경력 개발 경로 자동 생성
- **[FR-ROLE-006] 직무 기반 워크플로우 자동화**
  - 직무별 승인 체계 자동 설정
  - 역할 기반 작업 자동 배정
  - 직무 변경 시 권한/데이터 자동 이관
  - 알림 및 리포팅 개인화

### 분석 및 최적화
- **[FR-ROLE-007] 직무 효율성 분석**
  - 직무별 생산성 및 성과 지표 추적
  - 조직 내 직무 분포 및 균형 분석
  - 직무 기반 비용 분석 및 최적화
  - 경쟁력 분석을 위한 벤치마킹
- **[FR-ROLE-008] 역량 및 스킬 관리**
  - 직무별 필수/선택 역량 정의
  - 직원 스킬 평가 및 갭 분석
  - 교육 프로그램 연동 및 추천
  - 자격증/인증 관리 시스템
- **[FR-ROLE-009] 예측 분석 및 플래닝**
  - 조직 성장에 따른 직무 수요 예측
  - 퇴사 리스크 기반 후임자 추천
  - 직무 개편 시나리오 분석
  - ROI 기반 직무 투자 우선순위

---

## 4. UI/UX 요구사항
### 직무 관리 대시보드
- **인터랙티브 직무 조직도**:
  - 계층 구조 시각화 (트리뷰, 매트릭스뷰)
  - 드래그 앤 드롭으로 직무 구조 재편성
  - 직무별 인원 현황 및 공석률 표시
  - 권한 흐름도 오버레이 표시
- **고급 검색 및 필터**:
  - 다중 조건 검색 (직무명, 카테고리, 스킬, 경험)
  - 스마트 필터 (유사 직무, 경력 패스, 급여 범위)
  - 저장된 검색 조건 및 즐겨찾기
  - 실시간 검색 결과 업데이트

### 권한 관리 인터페이스
- **권한 매트릭스 시각화**:
  - 직무×기능 2차원 테이블로 권한 표시
  - 색상 코딩으로 권한 레벨 구분
  - 일괄 권한 설정 도구
  - 권한 변경 이력 시각화
- **권한 시뮬레이터**:
  - 권한 변경 전 영향도 미리보기
  - 충돌하는 권한 자동 감지
  - 권한 최적화 제안
  - 롤백 시나리오 테스트

### 직무 프로필 및 매칭 시스템
- **직무 상세 프로필**:
  - 직무 설명서 (책임, 권한, 요구사항)
  - 필요 스킬 및 자격 요건 시각화
  - 성과 지표 및 평가 기준 표시
  - 경력 발전 경로 로드맵
- **스킬 갭 분석 대시보드**:
  - 현재 스킬 vs 요구 스킬 레이더 차트
  - 부족한 역량별 교육 과정 추천
  - 동료 직원과의 스킬 비교
  - 목표 달성을 위한 액션 플랜

### 모바일 및 접근성
- **모바일 최적화**:
  - 터치 친화적 직무 브라우징
  - 음성 검색으로 직무 정보 조회
  - 푸시 알림으로 직무 관련 업데이트
  - 오프라인 모드 지원 (기본 정보)
- **접근성 준수**:
  - 스크린 리더 호환
  - 키보드 네비게이션 완벽 지원
  - 고대비 모드 및 글씨 크기 조절
  - 다국어 지원 (한국어, 영어, 기타)

---

## 5. 비즈니스 규칙
### 직무 계층 및 구조 규칙
- **직무 계층 제약**:
  - 직무 계층 깊이는 최대 8레벨까지 허용
  - 순환 참조 방지 (하위 직무가 상위 직무의 상급자가 될 수 없음)
  - 동일 레벨 내에서는 횡적 이동 가능
- **직무 카테고리 관리**:
  - 회사당 최대 20개 주요 직무 카테고리
  - 카테고리 삭제 시 하위 직무 자동 재분류
  - 업계 표준 직무 분류 체계 준용 권장

### 직무 배정 및 변경 규칙
- **다중 직무 배정**:
  - 하나의 직원은 최대 3개 직무 동시 보유 가능
  - 주 직무 1개 필수 지정 (급여, 평가 기준)
  - 부 직무는 시간 비율 제한 (주 직무 70% 이상)
- **직무 변경 승인 체계**:
  - 동급 내 이동: 직속 상관 승인
  - 승진: 2단계 상위 관리자 승인
  - 타 부서 이동: 양쪽 부서장 승인
  - 임시 직무: 30일 이내 자동 해제

### 권한 및 보안 규칙
- **권한 상속 원칙**:
  - 하위 직무는 상위 직무 권한 자동 상속
  - 명시적 거부 권한은 상속 권한보다 우선
  - 임시 권한은 영구 권한보다 우선 적용
- **권한 분리 원칙**:
  - 중요 업무는 최소 2인 승인 필요
  - 재무/인사 권한은 별도 승인 체계
  - 시스템 관리 권한은 IT 관리자만 부여

### 컴플라이언스 및 감사 규칙
- **법적 요구사항**:
  - 근로기준법상 관리감독자 지위 명시
  - 직무별 최대 근로시간 준수
  - 직무 변경 시 근로조건 변경 동의 필요
- **데이터 보존 규칙**:
  - 직무 변경 이력 퇴사 후 5년 보관
  - 권한 변경 로그 실시간 기록
  - 민감 정보 접근 시 추가 인증 필요
- **감사 및 검토**:
  - 분기별 권한 정합성 자동 검사
  - 연 1회 직무 체계 전면 검토
  - 부적절한 권한 자동 경고 시스템

---

## 6. 데이터 모델링 (초안)
### roles 테이블
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | PK | 직무 ID |
| company_id | FK(companies.id) | 회사 ID |
| name | string | 직무명 |
| description | string | 설명 |
| work_rule_id | FK(work_rules.id) | 근로 규칙 |
| status | enum(active, inactive) | 상태 |

### work_rules 테이블
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | PK | 규칙 ID |
| type | enum(standard, flexible, shift) | 규칙 유형 |
| max_hours | int | 최대 근로시간 |
| min_hours | int | 최소 근로시간 |
| break_policy | string | 휴게시간 규칙 |

---

## 7. 알림 및 연동
- 직무 변경 시 배정 직원에게 알림
- 직무 삭제 시 관리자 경고 알림

---

## 8. 예외 및 에러 처리
| 케이스 | 조건 | 시스템 동작 | 사용자 메시지 |
|--------|------|------------|--------------|
| 중복 직무명 | 동일 회사 내 중복 | 생성 차단 | “이미 존재하는 직무명입니다.” |
| 미배정 직원 | 직무 삭제 후 미배정 발생 | 경고 표시 | “일부 직원이 미배정 상태로 변경됩니다.” |
| 잘못된 규칙 | 근로 규칙 불일치 | 저장 차단 | “올바른 근로 규칙을 선택해주세요.” |

---

## 9. 연관성 (Dependency & Integration)
- **직원 (prd_employee.md)**: 직원 직무 배정
- **근무일정 (prd_schedule.md)**: 직무별 근무 규칙 반영
- **리포트 (prd_report.md)**: 직무별 근로시간/휴가 통계

---

## 10. 성공 지표 (KPI)
### 직무 관리 효율성 지표
- **직무 체계 구축**:
  - 직무 생성 후 직원 배정 완료율 ≥ 95%
  - 직무 구조 설계 완료 시간 ≤ 2시간 (100명 기준)
  - 직무 템플릿 활용률 ≥ 80%
  - 직무 중복/누락 자동 감지 정확도 ≥ 95%
- **권한 관리 효율성**:
  - 권한 설정 오류율 ≤ 1%
  - 권한 변경 반영 시간 ≤ 5분
  - 불필요한 권한 자동 식별률 ≥ 90%
  - 권한 감사 완료 시간 50% 단축

### 사용자 경험 지표
- **직무 매칭 정확성**:
  - AI 기반 직무 추천 만족도 ≥ 4.0/5.0
  - 스킬-직무 매칭 정확도 ≥ 85%
  - 경력 개발 경로 활용률 ≥ 70%
  - 직무 변경 신청 승인률 ≥ 90%
- **시스템 사용성**:
  - 직무 관리 대시보드 만족도 ≥ 4.5/5.0
  - 모바일 직무 검색 성공률 ≥ 95%
  - 직무 정보 검색 응답시간 ≤ 2초
  - 사용자 온보딩 완료율 ≥ 90%

### 비즈니스 임팩트 지표
- **조직 효율성 개선**:
  - 직무 기반 의사결정 속도 30% 향상
  - 부서 간 협업 효율성 25% 개선
  - 직무 관련 문의 50% 감소
  - 관리자 업무 부담 40% 경감
- **인재 관리 최적화**:
  - 내부 승진률 20% 향상
  - 직무 만족도 15% 개선
  - 핵심 인재 이탈률 30% 감소
  - 신규 직무 적응 기간 50% 단축

### 컴플라이언스 및 보안 지표
- **보안 및 규정 준수**:
  - 권한 오남용 사고 0건
  - 개인정보 접근 권한 정합성 100%
  - 법적 감사 대응 시간 ≤ 24시간
  - 데이터 백업 성공률 ≥ 99.9%
- **시스템 안정성**:
  - 직무 시스템 가용성 ≥ 99.5%
  - 대량 권한 변경 처리 시간 ≤ 10분
  - API 응답 시간 ≤ 300ms
  - 동시 접속자 2000명 지원

### 장기 전략 지표
- **조직 발전 기여도**:
  - 직무 기반 조직 개편 성공률 ≥ 85%
  - 새로운 비즈니스 모델 대응 속도 향상
  - 디지털 전환 가속화 기여도 측정
  - 경쟁우위 확보를 위한 핵심 역량 강화

## 10-1. 고급 분석 및 리포팅
### 예측 분석 기능
- **직무 수요 예측**: 사업 계획 기반 향후 3년 직무 필요량 예측
- **이탈 리스크 분석**: 직무 만족도 및 성과 데이터 기반 이탈 위험 직원 식별
- **스킬 갭 예측**: 기술 트렌드 분석으로 미래 필요 역량 예측
- **조직 최적화**: 시뮬레이션 기반 최적 직무 구조 제안

### 벤치마킹 및 경쟁 분석
- **업계 표준 비교**: 동종 업계 직무 체계와 비교 분석
- **급여 수준 분석**: 직무별 시장 급여와 내부 급여 비교
- **역량 수준 평가**: 업계 평균 대비 직무별 역량 수준 평가
- **베스트 프랙티스**: 우수 기업의 직무 관리 사례 학습
