# 📌 휴가 설정 (연차 정책 설정) 문서

## 1. 개요

회사의 연차 정책을 설정하여 휴가 관리의 자동화를 구현하는 기능입니다. 한국 근로기준법에 따른 연차 지급, 소멸, 촉진 관리를 체계적으로 처리할 수 있습니다.

* **대상**: 연차 정책 및 촉진 관리 + 맞춤 휴가 관리 권한을 가진 관리자
* **목적**: 연차 관리 자동화, 법적 준수, 효율적인 휴가 운영

---

## 2. 접근 경로 및 권한

* **접근 경로**: [설정] → [연차 설정] → [연차 정책 설정]
* **필요 권한**: 
  - 연차 정책 및 촉진 관리 권한
  - 맞춤 휴가 관리 권한

---

## 3. 연차 정책 기본 설정

### 3.1 승인 설정

| 설정 항목 | 설명 | 옵션 |
|-----------|------|------|
| 연차 등록 시 승인 | 구성원이 연차를 등록할 때 승인 발생 여부 | 승인 필요 / 승인 불필요 |
| 휴가 취소 시 승인 | 등록한 휴가를 취소할 때 승인 발생 여부 | 승인 필요 / 승인 불필요 |

**중요**: 취소 시 승인 설정은 등록 시 승인 구조를 그대로 따라갑니다. 등록과 취소의 승인 구조를 다르게 설정할 수 없습니다.

### 3.2 사용 단위 설정

* **분할 사용 단위**: 연차의 최소 사용 단위 지정
  - 일 단위 (1일, 0.5일 등)
  - 시간 단위 (1분 단위까지 설정 가능)

### 3.3 당겨쓰기 허용

* **당겨쓰기 허용**: 지급받은 연차보다 초과하여 사용 가능
* **처리 방식**: 내년 부여 예정 휴가에서 당겨쓰기 일수만큼 차감

### 3.4 미리쓰기 허용

생성 예정인 월차나 연차를 미리 사용할 수 있는 기능입니다.

**월차 미리쓰기 예시**:
- 구성원 입사일: 2023년 3월 10일
- 월차 정책: 매월 입사일에 월차 부여
- 10월 18일 보유 월차 0개 → 11월 10일 이후 일정부터 휴가 등록 가능

**연차 미리쓰기 예시**:
- 구성원 입사일: 2023년 3월 10일  
- 연차 정책: 매년 1월 1일 연차 15개 부여
- 12월 잔여 휴가 0개 → 다음년도 1월 1일부터 휴가 등록 가능

---

## 4. 연차 정책 지급 설정

### 4.1 회계일 지급 정책

**기본 설정**:
- **지급 시작일**: 자동 지급과 소멸, 사용 기록을 시작하는 시점
- **회계일**: 연차 지급 기준일 (일반적으로 1월 1일)

**입사자 월차 설정** (권장: 매월 개근시 1일 부여):
1. **매월 개근시 1일 부여**: 매월 개근 시 1일 월차 부여 (총 11개)
2. **입사일에 11일 선부여**: 입사일에 월차 11개 선부여
3. **입사일에 회계일까지의 월차 선부여**: 회계일 기준으로 나누어 부여

**입사자 1년 만근 연차 설정** (권장: 근무한 기간의 연차 부여):
1. **첫 회계일에 15일 부여**: 모든 구성원 회계일에 15일 부여
2. **첫 회계일 근무한 기간 비례 연차 부여**: 재직 기간에 비례하여 부여

**비례 연차 계산식**: 15일 × (전년도 재직일수 / 365)
- 소수점 셋째자리에서 버림 처리
- 소수점 이하 올림 설정 가능

### 4.2 입사일 지급 정책

**기본 설정**:
- **지급 시작일**: 자동 지급과 소멸, 사용 기록 시작 시점

**입사자 월차 설정** (권장: 매월 개근시 1일 부여):
1. **매월 개근시 1일 부여**: 매월 개근 시 1일 월차 부여 (총 11개)
2. **입사일에 11일 선부여**: 입사일에 월차 11개 선부여

**입사자 1년 만근 연차 설정** (권장: 1년 만근 시 15일 부여):
1. **1년 만근 시 15일 부여**: 1년 만근 시점에 15일 부여
2. **입사일에 15일 선부여**: 입사일부터 15일 선지급

### 4.3 연차 자동 지급 미리보기

* **기능**: 설정된 정책에 따라 연차가 어떻게 부여될지 시뮬레이션
* **테스트**: 다양한 입사일 기준으로 지급 패턴 확인 가능

---

## 5. 연차 정책 추가 지급 설정

### 5.1 법정 연차 외 추가 지급

회사 내규에 따른 추가 연차 지급이 가능합니다.

### 5.2 3년 초과 가산연차 (근로기준법 제60조 4항)

**회계일 기준 지급 시**:
- **법적 근거**: 3년 이상 재직자 대상
- **시스템 처리**: 4번째 회계일부터 +1일 가산
- **예시**: 
  - 2021년 11월 입사자
  - 2022년(1번째) → 2023년(2번째) → 2024년(3번째) → 2025년(4번째 회계일부터 가산)

**주의사항**: 3번째 회계일부터 부여하고 싶은 경우 추가 지급 설정에서 별도 적용

---

## 6. 연차 소멸 정책 설정

### 6.1 소멸 기간 설정

**기본 설정값**: 1년 후 소멸 / 유예기간 없음

**개별 설정 가능**:
- **연차 (1년 만근 연차)**: 별도 소멸 정책
- **월차 (입사일 월차)**: 별도 소멸 정책

### 6.2 유예기간 설정

* **유예기간 변경 시**: 지급 시작일부터 생성된 모든 연차의 소멸 기록 재계산
* **소멸 없음 설정**: 부여된 연차 모두 이월 가능
* **자동 연차 촉진**: 소멸기간 기준으로 발생 (소멸기한 없음 시 촉진 없음)

### 6.3 법정 소멸일 기반 연차 촉진

* **자동 촉진**: 법정 소멸일 기준으로 자동 연차 촉진 발송
* **촉진 가이드**: 별도 연차 촉진 가이드 참조

---

## 7. 연차 정책 추가 관리

### 7.1 다중 정책 운영

**사용 사례**:
- 정규직: 회계일 기준 정책
- 계약직: 입사일 기준 정책
- 특정 조직: 연차 촉진 제외 정책

### 7.2 정책별 설정

**개별 설정 가능**:
- 지급 방식
- 소멸 정책  
- 촉진 설정
- 승인 구조

**공통 설정**:
- 스마트 연차촉진의 상세설정 (승인/참조자, 자동요청시점, 리마인드 등)
- 기본 연차 정책의 설정값을 모든 정책에 적용

---

## 8. 구현 고려사항

### 8.1 법적 준수사항

* **근로기준법 제60조**: 연차휴가 부여 의무
* **근로기준법 제61조**: 연차휴가 사용 촉진 의무
* **소수점 연차 처리**: 미사용 연차의 수당 지급 의무

### 8.2 시스템 요구사항

* **실시간 계산**: 입사일, 재직기간 기반 자동 계산
* **정책 변경 대응**: 과거 데이터 재계산 기능
* **미리보기 기능**: 정책 적용 전 시뮬레이션
* **다중 정책 관리**: 조직/직급별 차별화된 정책 적용

### 8.3 사용자 경험

* **직관적 설정**: 단계별 가이드 제공
* **실시간 미리보기**: 설정 결과 즉시 확인
* **정책 템플릿**: 업종별 추천 설정 제공
* **오류 방지**: 법적 기준 위반 시 경고 메시지

---

## 9. 데이터 구조

### 9.1 연차 정책 설정

```json
{
  "leave_policy": {
    "id": "string",
    "name": "연차 정책명",
    "policy_type": "fiscal_year | hire_date",
    "approval_settings": {
      "leave_registration_approval": true,
      "leave_cancellation_approval": false
    },
    "usage_settings": {
      "minimum_unit": "day | hour",
      "minimum_minutes": 60,
      "allow_advance_usage": true,
      "allow_future_usage": true
    },
    "grant_settings": {
      "grant_start_date": "2024-01-01",
      "fiscal_year_date": "01-01",
      "monthly_leave": {
        "method": "monthly_attendance | immediate_grant | proportional_grant",
        "amount": 11
      },
      "annual_leave": {
        "method": "fiscal_year_grant | proportional_grant | immediate_grant",
        "amount": 15,
        "decimal_rounding": "round_up | round_down"
      }
    },
    "additional_grants": [
      {
        "condition": "years_of_service >= 3",
        "additional_days": 1,
        "start_from_year": 4
      }
    ],
    "expiration_settings": {
      "annual_leave_expiration": {
        "period_months": 12,
        "grace_period_months": 0,
        "auto_expire": true
      },
      "monthly_leave_expiration": {
        "period_months": 12,
        "grace_period_months": 0,
        "auto_expire": true
      }
    },
    "promotion_settings": {
      "auto_promotion": true,
      "promotion_timing": "legal_deadline",
      "reminder_settings": {...}
    }
  }
}
```

---

## 10. 운영 가이드 (권장 설정)

### 10.1 일반 기업 권장 설정

* **지급 방식**: 회계일 기준 (1월 1일)
* **월차**: 매월 개근시 1일 부여
* **연차**: 근무 기간 비례 부여
* **소멸**: 1년 후 소멸, 유예기간 없음
* **승인**: 등록/취소 모두 승인 필요
* **사용 단위**: 반일 단위 (0.5일)

### 10.2 스타트업 권장 설정

* **지급 방식**: 입사일 기준
* **월차**: 입사일에 선부여
* **연차**: 1년 만근 시 부여
* **당겨쓰기**: 허용
* **승인**: 간소화 (등록 시만 승인)
* **사용 단위**: 시간 단위

### 10.3 대기업 권장 설정

* **지급 방식**: 회계일 기준
* **다중 정책**: 직급별 차별화
* **가산연차**: 3년 초과 시 적용
* **촉진 관리**: 자동 촉진 활성화
* **승인**: 엄격한 승인 체계
* **소멸**: 법정 기준 준수